<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"
	xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC"
	xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" xmlns:flowable="http://flowable.org/bpmn"
	typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath"
	targetNamespace="http://www.flowable.org/processdef">

	<process id="employeeLeaveRequest" name="My process"
		isExecutable="true">
		<startEvent id="startevent1" name="Start"
			flowable:initiator="requestorName"></startEvent>

		<userTask id="usertask1" name="Submit Leave Request"
			flowable:assignee="${requestorName}"></userTask>

		<sequenceFlow id="flow1" sourceRef="startevent1"
			targetRef="usertask1"></sequenceFlow>

		<subProcess id="subprocess1" name="Sub Process">
			<startEvent id="startevent2" name="Start"></startEvent>
			<sequenceFlow id="flow3" sourceRef="startevent2"
				targetRef="usertask2"></sequenceFlow>
			<userTask id="usertask2" name="Team Lead Review"
				flowable:candidateGroups="team_lead">
				<documentation>Team Lead Review</documentation>
				<extensionElements>
					<flowable:taskListener event="create"
						expression="${requestService.teamLeadReview(execution)}" />
				</extensionElements>
			</userTask>
			<sequenceFlow id="flow4" sourceRef="usertask2"
				targetRef="exclusivegateway1"></sequenceFlow>
			<exclusiveGateway id="exclusivegateway1" name="Exclusive Gateway"></exclusiveGateway>

			<!-- Team Lead Approved -->
			<sequenceFlow id="flow5" sourceRef="exclusivegateway1"
				targetRef="usertask3">
			</sequenceFlow>

			<sequenceFlow id="flow14" sourceRef="exclusivegateway1"
				targetRef="endevent2"></sequenceFlow>

			<userTask id="usertask3" name="Manager Review"></userTask>


			<endEvent id="endevent2" name="End"></endEvent>

			<exclusiveGateway id="exclusivegateway2" name="Exclusive Gateway"></exclusiveGateway>
			<sequenceFlow id="flow9" sourceRef="usertask3"
				targetRef="exclusivegateway2"></sequenceFlow>
			<endEvent id="endevent4" name="End"></endEvent>
			<sequenceFlow id="flow15" sourceRef="exclusivegateway2"
				targetRef="endevent4"></sequenceFlow>
			<endEvent id="endevent5" name="End"></endEvent>
			<sequenceFlow id="flow16" sourceRef="exclusivegateway2"
				targetRef="endevent5"></sequenceFlow>
		</subProcess>
		<sequenceFlow id="flow2" sourceRef="usertask1" targetRef="subprocess1"></sequenceFlow>
		<endEvent id="endevent3" name="End"></endEvent>
		<serviceTask id="servicetask3" name="Send alert"
			flowable:expression="${requestService.sendEmail(execution)}"></serviceTask>
		<sequenceFlow id="flow12" sourceRef="subprocess1"
			targetRef="servicetask3"></sequenceFlow>
		<sequenceFlow id="flow13" sourceRef="servicetask3"
			targetRef="endevent3"></sequenceFlow>
	</process>

	<bpmndi:BPMNDiagram id="BPMNDiagram_myProcess">
		<bpmndi:BPMNPlane bpmnElement="myProcess" id="BPMNPlane_myProcess">
			<bpmndi:BPMNShape bpmnElement="startevent1"
				id="BPMNShape_startevent1">
				<omgdc:Bounds height="35.0" width="35.0" x="30.0" y="192.0"></omgdc:Bounds>
			</bpmndi:BPMNShape>
			<bpmndi:BPMNShape bpmnElement="usertask1" id="BPMNShape_usertask1">
				<omgdc:Bounds height="81.0" width="105.0" x="110.0" y="169.0"></omgdc:Bounds>
			</bpmndi:BPMNShape>
			<bpmndi:BPMNShape bpmnElement="subprocess1"
				id="BPMNShape_subprocess1">
				<omgdc:Bounds height="291.0" width="600.0" x="253.0" y="68.0"></omgdc:Bounds>
			</bpmndi:BPMNShape>
			<bpmndi:BPMNShape bpmnElement="startevent2"
				id="BPMNShape_startevent2">
				<omgdc:Bounds height="35.0" width="35.0" x="263.0" y="218.0"></omgdc:Bounds>
			</bpmndi:BPMNShape>
			<bpmndi:BPMNShape bpmnElement="usertask2" id="BPMNShape_usertask2">
				<omgdc:Bounds height="55.0" width="105.0" x="323.0" y="208.0"></omgdc:Bounds>
			</bpmndi:BPMNShape>
			<bpmndi:BPMNShape bpmnElement="exclusivegateway1"
				id="BPMNShape_exclusivegateway1">
				<omgdc:Bounds height="40.0" width="40.0" x="453.0" y="215.0"></omgdc:Bounds>
			</bpmndi:BPMNShape>
			<bpmndi:BPMNShape bpmnElement="usertask3" id="BPMNShape_usertask3">
				<omgdc:Bounds height="55.0" width="105.0" x="522.0" y="154.0"></omgdc:Bounds>
			</bpmndi:BPMNShape>
			<bpmndi:BPMNShape bpmnElement="endevent2" id="BPMNShape_endevent2">
				<omgdc:Bounds height="35.0" width="35.0" x="522.0" y="278.0"></omgdc:Bounds>
			</bpmndi:BPMNShape>
			<bpmndi:BPMNShape bpmnElement="exclusivegateway2"
				id="BPMNShape_exclusivegateway2">
				<omgdc:Bounds height="40.0" width="40.0" x="662.0" y="161.0"></omgdc:Bounds>
			</bpmndi:BPMNShape>
			<bpmndi:BPMNShape bpmnElement="endevent4" id="BPMNShape_endevent4">
				<omgdc:Bounds height="35.0" width="35.0" x="762.0" y="164.0"></omgdc:Bounds>
			</bpmndi:BPMNShape>
			<bpmndi:BPMNShape bpmnElement="endevent5" id="BPMNShape_endevent5">
				<omgdc:Bounds height="35.0" width="35.0" x="762.0" y="252.0"></omgdc:Bounds>
			</bpmndi:BPMNShape>
			<bpmndi:BPMNShape bpmnElement="endevent3" id="BPMNShape_endevent3">
				<omgdc:Bounds height="35.0" width="35.0" x="1030.0" y="192.0"></omgdc:Bounds>
			</bpmndi:BPMNShape>
			<bpmndi:BPMNShape bpmnElement="servicetask3"
				id="BPMNShape_servicetask3">
				<omgdc:Bounds height="55.0" width="105.0" x="892.0" y="182.0"></omgdc:Bounds>
			</bpmndi:BPMNShape>
			<bpmndi:BPMNEdge bpmnElement="flow1" id="BPMNEdge_flow1">
				<omgdi:waypoint x="65.0" y="209.0"></omgdi:waypoint>
				<omgdi:waypoint x="110.0" y="209.0"></omgdi:waypoint>
			</bpmndi:BPMNEdge>
			<bpmndi:BPMNEdge bpmnElement="flow3" id="BPMNEdge_flow3">
				<omgdi:waypoint x="298.0" y="235.0"></omgdi:waypoint>
				<omgdi:waypoint x="323.0" y="235.0"></omgdi:waypoint>
			</bpmndi:BPMNEdge>
			<bpmndi:BPMNEdge bpmnElement="flow4" id="BPMNEdge_flow4">
				<omgdi:waypoint x="428.0" y="235.0"></omgdi:waypoint>
				<omgdi:waypoint x="453.0" y="235.0"></omgdi:waypoint>
			</bpmndi:BPMNEdge>
			<bpmndi:BPMNEdge bpmnElement="flow5" id="BPMNEdge_flow5">
				<omgdi:waypoint x="473.0" y="215.0"></omgdi:waypoint>
				<omgdi:waypoint x="473.0" y="181.0"></omgdi:waypoint>
				<omgdi:waypoint x="522.0" y="181.0"></omgdi:waypoint>
			</bpmndi:BPMNEdge>
			<bpmndi:BPMNEdge bpmnElement="flow9" id="BPMNEdge_flow9">
				<omgdi:waypoint x="627.0" y="181.0"></omgdi:waypoint>
				<omgdi:waypoint x="662.0" y="181.0"></omgdi:waypoint>
			</bpmndi:BPMNEdge>
			<bpmndi:BPMNEdge bpmnElement="flow14" id="BPMNEdge_flow14">
				<omgdi:waypoint x="493.0" y="235.0"></omgdi:waypoint>
				<omgdi:waypoint x="473.0" y="255.0"></omgdi:waypoint>
				<omgdi:waypoint x="473.0" y="295.0"></omgdi:waypoint>
				<omgdi:waypoint x="522.0" y="295.0"></omgdi:waypoint>
			</bpmndi:BPMNEdge>
			<bpmndi:BPMNEdge bpmnElement="flow15" id="BPMNEdge_flow15">
				<omgdi:waypoint x="702.0" y="181.0"></omgdi:waypoint>
				<omgdi:waypoint x="762.0" y="181.0"></omgdi:waypoint>
			</bpmndi:BPMNEdge>
			<bpmndi:BPMNEdge bpmnElement="flow16" id="BPMNEdge_flow16">
				<omgdi:waypoint x="682.0" y="201.0"></omgdi:waypoint>
				<omgdi:waypoint x="682.0" y="269.0"></omgdi:waypoint>
				<omgdi:waypoint x="762.0" y="269.0"></omgdi:waypoint>
			</bpmndi:BPMNEdge>
			<bpmndi:BPMNEdge bpmnElement="flow2" id="BPMNEdge_flow2">
				<omgdi:waypoint x="215.0" y="209.0"></omgdi:waypoint>
				<omgdi:waypoint x="253.0" y="213.0"></omgdi:waypoint>
			</bpmndi:BPMNEdge>
			<bpmndi:BPMNEdge bpmnElement="flow12" id="BPMNEdge_flow12">
				<omgdi:waypoint x="853.0" y="213.0"></omgdi:waypoint>
				<omgdi:waypoint x="892.0" y="209.0"></omgdi:waypoint>
			</bpmndi:BPMNEdge>
			<bpmndi:BPMNEdge bpmnElement="flow13" id="BPMNEdge_flow13">
				<omgdi:waypoint x="997.0" y="209.0"></omgdi:waypoint>
				<omgdi:waypoint x="1030.0" y="209.0"></omgdi:waypoint>
			</bpmndi:BPMNEdge>
		</bpmndi:BPMNPlane>
	</bpmndi:BPMNDiagram>
</definitions>